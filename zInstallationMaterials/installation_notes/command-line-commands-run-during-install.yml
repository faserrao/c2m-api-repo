npm install -g @stoplight/spectral-cli
npm install --save-dev @redocly/cli
npx redocly build-docs .redocly.yaml

#
# The 'apiDefinitions' field is deprecated. Use apis instead.
# [1] .redocly.yaml:1:1 at #/apiDefinitions
# 
# Property `apiDefinitions` is not expected here.
# 
# 1 | apiDefinitions:
# 2 |   c2m:
# 3 |     root: ./openapi/c2m_openapi_spec_final.yaml
# 
# Warning was generated by the configuration spec rule.
# 
# 
# [2] .redocly.yaml:5:1 at #/output
# 
# Property `output` is not expected here.
# 
# 3 |     root: ./openapi/c2m_openapi_spec_final.yaml
# 4 |
# 5 | output:
# 6 |   path: ./docs
# 7 |
# 
# Warning was generated by the configuration spec rule.
# 
# 
#‚ö†Ô∏è Your config has 2 warnings.
npm run build-docs

     click2mail-header-logo.webp     openapi/                        resources/                      sdk-clients/
(base) ~ git add .
(base) ~ git commit -m "More features."
[main cedd15a] More features.
 12 files changed, 705 insertions(+), 1 deletion(-)
 rename lob-api-public_fixed.yml => c2m-api-public_fixed.yml (100%)
 rename lob-api-public_with_issues.yml => c2m-api-public_with_issues.yml (100%)
 delete mode 120000 c2m_openapi_public.yml
 create mode 100644 c2m_openapi_spec_final.yaml
 rename postman/{lob_postman_collection_monitor_ready.json => c2m_postman_collection_monitor_ready.json} (100%)
 rename postman/{lob_postman_environment_dev.json => c2m_postman_environment_dev.json} (100%)
 rename postman/{lob_postman_environment_production.json => c2m_postman_environment_production.json} (100%)
 rename postman/{lob_postman_environment_staging.json => c2m_postman_environment_staging.json} (100%)
 rename postman/{lob_postman_generated_with_examples_and_tests.json => c2m_postman_generated_with_examples_and_tests.json} (100%)
 create mode 100755 rn.sh
 rename docs/init-directory-structure.sh.sh => scripts/init-directory-structure.sh (100%)
(base) ~ git push
Enumerating objects: 13, done.
Counting objects: 100% (13/13), done.
Delta compression using up to 12 threads
Compressing objects: 100% (7/7), done.
Writing objects: 100% (8/8), 3.39 KiB | 3.39 MiB/s, done.
Total 8 (delta 4), reused 0 (delta 0), pack-reused 0 (from 0)
remote: Resolving deltas: 100% (4/4), completed with 4 local objects.
To https://github.com/faserrao/c2m-api-repo.git
   ef80241..cedd15a  main -> main
(base) ~ git status
On branch main
Your branch is up to date with 'origin/main'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   .DS_Store

no changes added to commit (use "git add" and/or "git commit -a")
(base) ~ redocly
zsh: command not found: redocly
(base) ~ pef
zsh: command not found: pef
(base) ~ pwd
/Users/frankserrao/Dropbox/Customers/c2m/projects/c2m-api/current/CurrentWork/C2M_API/C2M_API_v3/c2m-api-repo
(base) ~ npm install --save-dev @redocly/cli
npm error code EJSONPARSE
npm error path /Users/frankserrao/Dropbox/Customers/c2m/projects/c2m-api/current/CurrentWork/C2M_API/C2M_API_v3/c2m-api-repo/package.json
npm error JSON.parse Unexpected non-whitespace character after JSON at position 321 (line 11 column 4) while parsing near "...redocly.yaml\"\n}\n\n  },\n  \"devDependencies..."
npm error JSON.parse Failed to parse JSON data.
npm error JSON.parse Note: package.json must be actual JSON, not just JavaScript.

npm error A complete log of this run can be found in: /Users/frankserrao/.npm/_logs/2025-07-10T00_35_57_119Z-debug-0.log
apis:
(base) ~ ls
CONTRIBUTING.md                 Postman OpenAPI LOB Spec.pdf    c2m-api-public_with_issues.yml  docs/                           package.json                    rn.sh*                          tests/
LICENSE                         README.md                       c2m_openapi_spec_final.yaml     my-commands.sh                  postman/                        scripts/
Modifications070920251941/      c2m-api-public_fixed.yml        click2mail-header-logo.webp     openapi/                        resources/                      sdk-clients/
(base) ~ npm install --save-dev @redocly/cli
npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
npm warn deprecated sourcemap-codec@1.4.8: Please use @jridgewell/sourcemap-codec instead

added 422 packages, and audited 423 packages in 15s

116 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
(base) ~ git add .
(base) ~ git commit -m "Fixes"
[main abc41ff] Fixes
 4 files changed, 5299 insertions(+), 7 deletions(-)
 create mode 100644 package-lock.json
(base) ~ git push
Enumerating objects: 10, done.
Counting objects: 100% (10/10), done.
Delta compression using up to 12 threads
Compressing objects: 100% (6/6), done.
Writing objects: 100% (6/6), 48.03 KiB | 16.01 MiB/s, done.
Total 6 (delta 4), reused 0 (delta 0), pack-reused 0 (from 0)
remote: Resolving deltas: 100% (4/4), completed with 4 local objects.
To https://github.com/faserrao/c2m-api-repo.git
   cedd15a..abc41ff  main -> main
(base) ~ cd contract
(base) ~
(base) ~ npx redocly build-docs .redocly.yaml
The 'apiDefinitions' field is deprecated. Use apis instead.
[1] .redocly.yaml:1:1 at #/apiDefinitions

Property `apiDefinitions` is not expected here.

1 | apiDefinitions:
2 |   c2m:
3 |     root: ./openapi/c2m_openapi_spec_final.yaml

Warning was generated by the configuration spec rule.


[2] .redocly.yaml:5:1 at #/output

Property `output` is not expected here.

3 |     root: ./openapi/c2m_openapi_spec_final.yaml
4 |
5 | output:
6 |   path: ./docs
7 |

Warning was generated by the configuration spec rule.


‚ö†Ô∏è Your config has 2 warnings.
(base) ~ vi .redocly.yaml
(base) ~ npx redocly build-docs .redocly.yaml
[1] .redocly.yaml:5:1 at #/output

Property `output` is not expected here.

3 |     root: ./openapi/c2m_openapi_spec_final.yaml
4 |
5 | output:
6 |   path: ./docs
7 |

Warning was generated by the configuration spec rule.


‚ö†Ô∏è Your config has 1 warning.
Found .redocly.yaml and using theme.openapi options
Error: Unsupported specification

(base) ~ npx redocly build-docs .redocly.yaml
The 'apiDefinitions' field is deprecated. Use apis instead.
[1] .redocly.yaml:1:1 at #/apiDefinitions

Property `apiDefinitions` is not expected here.

1 | apiDefinitions:
2 |   click2mail:
3 |     root: ./openapi/c2m_openapi_spec_final.yaml

Warning was generated by the configuration spec rule.


‚ö†Ô∏è Your config has 1 warning.
(base) ~ npx redocly build-docs .redocly.yaml
Found .redocly.yaml and using theme.openapi options
Error: Unsupported specification

(base) ~ npx @redocly/cli lint openapi/c2m_openapi_spec_final.yaml

‚ö†Ô∏è No rules were configured. Learn how to configure rules: https://redocly.com/docs/cli/rules/

(base) ~ clear
(base) ~ npx redocly build-docs openapi/test.yaml


openapi/test.yaml does not exist or is invalid.

Please provide a valid path.

(base) ~ npx redocly build-docs openapi/test.yaml

Found .redocly.yaml and using theme.openapi options
Prerendering docs

üéâ bundled successfully in: redoc-static.html (40 KiB) [‚è± 2ms].
(base) ~ npx spectral lint openapi/c2m_openapi_spec_final.yaml

(node:84190) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)

/Users/frankserrao/Dropbox/Customers/c2m/projects/c2m-api/current/CurrentWork/C2M_API/C2M_API_v3/c2m-api-repo/openapi/c2m_openapi_spec_final.yaml
 251:19  warning  oas3-unused-component  Potentially unused component has been detected.  components.parameters.Authorization
 259:18  warning  oas3-unused-component  Potentially unused component has been detected.  components.parameters.Content-Type
 270:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/single/doc.post
 270:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/single/doc.post
 314:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/multi/doc.post
 314:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/multi/doc.post
 314:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/multi/doc.post
 354:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/multi/doc/merge.post
 354:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/multi/doc/merge.post
 354:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/multi/doc/merge.post
 384:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/single/doc/jobTemplate.post
 384:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/single/doc/jobTemplate.post
 384:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/single/doc/jobTemplate.post
 420:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/multi/docs/jobtemplate.post
 420:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/multi/docs/jobtemplate.post
 420:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/multi/docs/jobtemplate.post
 450:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/multi/doc/merge/jobTemplate.post
 450:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/multi/doc/merge/jobTemplate.post
 450:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/multi/doc/merge/jobTemplate.post
 482:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/single/pdf/split.post
 482:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/single/pdf/split.post
 482:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/single/pdf/split.post
 525:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/single/pdf/split/addressCapture.post
 525:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/single/pdf/split/addressCapture.post
 525:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/single/pdf/split/addressCapture.post
 585:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/multi/pdf/addressCapture.post
 585:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/multi/pdf/addressCapture.post
 585:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/multi/pdf/addressCapture.post
 648:10  warning  operation-description  Every operation should have a description.       paths./webhooks/jobStatusUpdate.post
 648:10  warning  operation-operationId  Operation must have "operationId".               paths./webhooks/jobStatusUpdate.post
 648:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./webhooks/jobStatusUpdate.post

‚úñ 31 problems (0 errors, 31 warnings, 0 infos, 0 hints)
(base) ~ npx spectral lint openapi/c2m_openapi_spec_final.yaml

(node:92685) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)

/Users/frankserrao/Dropbox/Customers/c2m/projects/c2m-api/current/CurrentWork/C2M_API/C2M_API_v3/c2m-api-repo/openapi/c2m_openapi_spec_final.yaml
 251:19  warning  oas3-unused-component  Potentially unused component has been detected.  components.parameters.Authorization
 259:18  warning  oas3-unused-component  Potentially unused component has been detected.  components.parameters.Content-Type
 270:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/single/doc.post
 270:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/single/doc.post
 314:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/multi/doc.post
 314:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/multi/doc.post
 314:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/multi/doc.post
 354:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/multi/doc/merge.post
 354:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/multi/doc/merge.post
 354:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/multi/doc/merge.post
 384:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/single/doc/jobTemplate.post
 384:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/single/doc/jobTemplate.post
 384:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/single/doc/jobTemplate.post
 420:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/multi/docs/jobtemplate.post
 420:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/multi/docs/jobtemplate.post
 420:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/multi/docs/jobtemplate.post
 450:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/multi/doc/merge/jobTemplate.post
 450:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/multi/doc/merge/jobTemplate.post
 450:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/multi/doc/merge/jobTemplate.post
 482:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/single/pdf/split.post
 482:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/single/pdf/split.post
 482:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/single/pdf/split.post
 525:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/single/pdf/split/addressCapture.post
 525:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/single/pdf/split/addressCapture.post
 525:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/single/pdf/split/addressCapture.post
 585:10  warning  operation-description  Every operation should have a description.       paths./jobs/submit/multi/pdf/addressCapture.post
 585:10  warning  operation-operationId  Operation must have "operationId".               paths./jobs/submit/multi/pdf/addressCapture.post
 585:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./jobs/submit/multi/pdf/addressCapture.post
 648:10  warning  operation-description  Every operation should have a description.       paths./webhooks/jobStatusUpdate.post
 648:10  warning  operation-operationId  Operation must have "operationId".               paths./webhooks/jobStatusUpdate.post
 648:10  warning  operation-tags         Operation must have non-empty "tags" array.      paths./webhooks/jobStatusUpdate.post

‚úñ 31 problems (0 errors, 31 warnings, 0 infos, 0 hints)
(base) ~ npx spectral lint openapi/c2m_openapi_spec_final.yaml

(node:93485) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)

/Users/frankserrao/Dropbox/Customers/c2m/projects/c2m-api/current/CurrentWork/C2M_API/C2M_API_v3/c2m-api-repo/openapi/c2m_openapi_spec_final.yaml
 299:9  warning  operation-tag-defined  Operation tags must be defined in global tags.  paths./jobs/submit/single/doc.post.tags[0]
 345:9  warning  operation-tag-defined  Operation tags must be defined in global tags.  paths./jobs/submit/multi/doc.post.tags[0]
 381:9  warning  operation-tag-defined  Operation tags must be defined in global tags.  paths./jobs/submit/multi/doc/merge.post.tags[0]
 423:9  warning  operation-tag-defined  Operation tags must be defined in global tags.  paths./jobs/submit/single/doc/jobTemplate.post.tags[0]
 459:9  warning  operation-tag-defined  Operation tags must be defined in global tags.  paths./jobs/submit/multi/docs/jobtemplate.post.tags[0]
 497:9  warning  operation-tag-defined  Operation tags must be defined in global tags.  paths./jobs/submit/multi/doc/merge/jobTemplate.post.tags[0]
 546:9  warning  operation-tag-defined  Operation tags must be defined in global tags.  paths./jobs/submit/single/pdf/split.post.tags[0]
 612:9  warning  operation-tag-defined  Operation tags must be defined in global tags.  paths./jobs/submit/single/pdf/split/addressCapture.post.tags[0]
 681:9  warning  operation-tag-defined  Operation tags must be defined in global tags.  paths./jobs/submit/multi/pdf/addressCapture.post.tags[0]
 734:9  warning  operation-tag-defined  Operation tags must be defined in global tags.  paths./webhooks/jobStatusUpdate.post.tags[0]

‚úñ 10 problems (0 errors, 10 warnings, 0 infos, 0 hints)
(base) ~ npx spectral lint openapi/c2m_openapi_spec_final.yaml

(node:94132) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
No results with a severity of 'error' found!
(base) ~ npx redocly build-docs .redocly.yaml
Found .redocly.yaml and using theme.openapi options
Error: Unsupported specification

(base) ~ npx spectral lint openapi/c2m_openapi_spec_final.yaml

(node:94576) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
No results with a severity of 'error' found!
(base) ~ clear
(base) ~ npx spectral lint openapi/c2m_openapi_spec_final.yaml

(node:95387) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
No results with a severity of 'error' found!
(base) ~ npx redocly build-docs .redocly.yaml
The 'apiDefinitions' field is deprecated. Use apis instead.
[1] .redocly.yaml:1:1 at #/apiDefinitions

Property `apiDefinitions` is not expected here.

1 | apiDefinitions:
2 |   click2mail:
3 |     root: ./openapi/c2m_openapi_spec_final.yaml

Warning was generated by the configuration spec rule.


‚ö†Ô∏è Your config has 1 warning.
(base) ~ npx redocly build-docs click2mail

Found .redocly.yaml and using theme.openapi options
Prerendering docs
üéâ bundled successfully in: redoc-static.html (392 KiB) [‚è± 2ms].




(base) ~ npx @redocly/cli lint ./openapi/c2m_openapi_spec_final.yaml

validating openapi/c2m_openapi_spec_final.yaml...
[1] openapi/c2m_openapi_spec_final.yaml:2:1 at #/info

Info object should contain `license` field.

1 | openapi: 3.0.3
2 | info:
3 |   title: Click2Mail Document Submission API
4 |   version: 1.0.0

Warning was generated by the info-license rule.


[2] openapi/c2m_openapi_spec_final.yaml:8:8 at #/servers/0/url

Server `url` should not point to example.com or localhost.

 6 |     Version 2
 7 | servers:
 8 | - url: https://api.example.com
 9 | components:
10 |   securitySchemes:

Warning was generated by the no-server-example.com rule.


openapi/c2m_openapi_spec_final.yaml: validated in 19ms

Woohoo! Your API description is valid. üéâ
You have 2 warnings.


